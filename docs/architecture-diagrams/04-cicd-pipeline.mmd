graph TB
    subgraph "Source Control"
        GIT[ğŸ“š Git Repository<br/>GitHub/GitLab]
        BRANCH[ğŸŒ¿ Feature Branch]
        MAIN[ğŸ¯ Main Branch]
    end

    subgraph "CI Pipeline"
        TRIGGER[âš¡ Webhook Trigger]
        BUILD[ğŸ”¨ Build Stage<br/>Docker Images]
        TEST[ğŸ§ª Test Stage<br/>Unit/Integration]
        SCAN[ğŸ” Security Scan<br/>SAST/DAST]
        QUALITY[ğŸ“Š Quality Gate<br/>SonarQube]
    end

    subgraph "Artifact Storage"
        REGISTRY[ğŸ“¦ Docker Registry<br/>Harbor/ECR]
        HELM[âš“ Helm Charts<br/>Chart Museum]
    end

    subgraph "CD Pipeline"
        DEPLOY_DEV[ğŸš€ Deploy Dev<br/>Auto Deploy]
        DEPLOY_STAGE[ğŸ­ Deploy Staging<br/>Manual Approval]
        DEPLOY_PROD[ğŸ­ Deploy Production<br/>Blue/Green]
    end

    subgraph "Environments"
        DEV[ğŸ”§ Development<br/>Feature Testing]
        STAGE[ğŸ¯ Staging<br/>UAT Environment]
        PROD[ğŸ­ Production<br/>Live System]
    end

    subgraph "Monitoring"
        METRICS[ğŸ“ˆ Metrics<br/>Prometheus]
        LOGS[ğŸ“‹ Logging<br/>ELK Stack]
        ALERTS[ğŸš¨ Alerting<br/>PagerDuty]
        HEALTH[ğŸ’š Health Checks<br/>Kubernetes Probes]
    end

    %% Source flow
    BRANCH --> TRIGGER
    MAIN --> TRIGGER

    %% CI flow
    TRIGGER --> BUILD
    BUILD --> TEST
    TEST --> SCAN
    SCAN --> QUALITY
    QUALITY --> REGISTRY
    QUALITY --> HELM

    %% CD flow
    REGISTRY --> DEPLOY_DEV
    REGISTRY --> DEPLOY_STAGE
    REGISTRY --> DEPLOY_PROD
    DEPLOY_DEV --> DEV
    DEPLOY_STAGE --> STAGE
    DEPLOY_PROD --> PROD

    %% Monitoring
    DEV --> METRICS
    STAGE --> METRICS
    PROD --> METRICS
    METRICS --> LOGS
    LOGS --> ALERTS
    PROD --> HEALTH

    style BUILD fill:#e3f2fd,stroke:#1976d2
    style TEST fill:#e8f5e8,stroke:#2e7d32
    style PROD fill:#fff3e0,stroke:#f57c00
    style ALERTS fill:#ffebee,stroke:#d32f2f
