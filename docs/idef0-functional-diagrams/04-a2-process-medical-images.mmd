graph TB
    subgraph "A2: Process Medical Images"
        A21[📤 UPLOAD & VALIDATE<br/>X-RAY IMAGES<br/>A-2.1]
        A22[🔧 PREPROCESS<br/>IMAGES<br/>A-2.2]
        A23[💾 STORE & MANAGE<br/>MEDICAL FILES<br/>A-2.3]
        A24[🔍 EXTRACT IMAGE<br/>METADATA<br/>A-2.4]
    end

    %% External entities
    DOC[👨‍⚕️ Radiologists]
    STORE[(📁 File Storage<br/>System)]
    VALID[✅ Validation<br/>Rules]

    %% Inputs
    DOC -->|Raw X-ray Images<br/>DICOM Files| A21
    VALID -->|File Type Rules<br/>Size Limits| A21

    %% Inter-function flows
    A21 -->|Validated Images| A22
    A22 -->|Processed Images<br/>224x224 RGB| A23
    A22 -->|Image Tensors| A24
    A23 -->|File Paths<br/>Storage Info| A24

    %% Outputs
    A23 -->|Stored Images<br/>File References| STORE
    A24 -->|Image Metadata<br/>Preprocessing Info| DOC
    A24 -->|Ready for AI<br/>Normalized Images| A21

    style A21 fill:#e8f5e8,stroke:#2e7d32
    style A22 fill:#e3f2fd,stroke:#1565c0
    style A23 fill:#fff8e1,stroke:#f57f17
    style A24 fill:#fce4ec,stroke:#c2185b
